<!DOCTYPE html>
<html lang="hu" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Odds Elemz≈ë App</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#2563eb',
            secondary: '#64748b'
          }
        }
      }
    }
  </script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen flex flex-col">
  <header class="p-4 bg-primary text-white text-center font-bold text-xl shadow-md">
    ‚öΩ Odds Elemz≈ë PRO
  </header>

  <main class="flex-1 p-4 max-w-5xl mx-auto w-full">
    <!-- Tabs -->
    <div class="flex overflow-x-auto space-x-2 pb-2 border-b border-gray-300 dark:border-gray-700">
      <button class="tab-btn px-4 py-2 rounded-xl bg-primary text-white font-semibold whitespace-nowrap" data-tab="ai">AI Elemz≈ë</button>
      <button class="tab-btn px-4 py-2 rounded-xl bg-gray-200 dark:bg-gray-800 hover:bg-primary hover:text-white transition" data-tab="stats">Statisztika</button>
      <button class="tab-btn px-4 py-2 rounded-xl bg-gray-200 dark:bg-gray-800 hover:bg-primary hover:text-white transition" data-tab="logs">Logok</button>
      <button class="tab-btn px-4 py-2 rounded-xl bg-gray-200 dark:bg-gray-800 hover:bg-primary hover:text-white transition" data-tab="settings">Be√°ll√≠t√°sok</button>
    </div>

    <!-- Tab Panels -->
    <div id="ai" class="tab-panel mt-4">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <input id="homeTeam" type="text" placeholder="Hazai csapat" class="input" />
        <input id="awayTeam" type="text" placeholder="Vend√©g csapat" class="input" />
        <input id="homeOdds" type="text" placeholder="Hazai odds" class="input odds" />
        <input id="drawOdds" type="text" placeholder="D√∂ntetlen odds" class="input odds" />
        <input id="awayOdds" type="text" placeholder="Vend√©g odds" class="input odds" />
      </div>
      <button onclick="analyzeMatch()" class="mt-4 w-full md:w-auto px-6 py-3 bg-primary text-white rounded-xl font-semibold hover:scale-105 transition">Elemz√©s ind√≠t√°sa</button>

      <div id="results" class="mt-6 grid gap-4 md:grid-cols-2 lg:grid-cols-3"></div>
    </div>

    <div id="stats" class="tab-panel mt-4 hidden">
      <h2 class="text-lg font-bold mb-2">üìä Modell statisztik√°k</h2>
      <div id="statisticsContainer" class="overflow-x-auto"></div>
    </div>

    <div id="logs" class="tab-panel mt-4 hidden">
      <h2 class="text-lg font-bold mb-2">üìù Elemz√©si logok</h2>
      <div id="logsContainer" class="space-y-2"></div>
    </div>

    <div id="settings" class="tab-panel mt-4 hidden">
      <h2 class="text-lg font-bold mb-2">‚öôÔ∏è Be√°ll√≠t√°sok</h2>
      <button onclick="toggleDarkMode()" class="px-4 py-2 bg-secondary text-white rounded-xl hover:scale-105 transition">üåó Dark / Light m√≥d v√°lt√°s</button>
    </div>
  </main>

  <footer class="p-4 text-center text-sm text-gray-500 dark:text-gray-400">
    Odds Elemz≈ë PRO ¬© 2025
  </footer>

  <script>
    // Alap input st√≠lus
    document.querySelectorAll('.input').forEach(el => {
      el.classList.add('w-full', 'px-4', 'py-2', 'rounded-xl', 'border', 'border-gray-300', 'dark:border-gray-700', 'bg-white', 'dark:bg-gray-800', 'focus:ring-2', 'focus:ring-primary', 'outline-none');
    });

    // Odds valid√°ci√≥
    document.querySelectorAll('.odds').forEach(el => {
      el.addEventListener('input', () => {
        el.value = el.value.replace(/[^0-9.]/g, '');
      });
    });

    // Tab v√°lt√°s
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('bg-primary','text-white'));
        btn.classList.add('bg-primary','text-white');
        document.querySelectorAll('.tab-panel').forEach(p => p.classList.add('hidden'));
        document.getElementById(btn.dataset.tab).classList.remove('hidden');
      });
    });

    // Dark m√≥d toggle
    function toggleDarkMode(){
      document.documentElement.classList.toggle('dark');
    }

    // Modell logika
    function analyzeMatch(){
      const home = document.getElementById('homeTeam').value;
      const away = document.getElementById('awayTeam').value;
      const h = parseFloat(document.getElementById('homeOdds').value);
      const d = parseFloat(document.getElementById('drawOdds').value);
      const a = parseFloat(document.getElementById('awayOdds').value);

      if(!home || !away || isNaN(h) || isNaN(d) || isNaN(a)){
        alert('T√∂ltsd ki helyesen az √∂sszes mez≈ët!');
        return;
      }

      // Odds alap√∫ modell
      let best = Math.min(h,d,a);
      let oddsPick = best===h? home : best===d? 'D√∂ntetlen' : away;

      // Poisson dummy predikci√≥
      let poissonPick = Math.random()>0.5? home : away;

      // Hibrid (over/under)
      let goalsPick = (h+d+a)/3 > 2.5 ? '2.5 g√≥l felett' : '2.5 g√≥l alatt';

      // Ensemble
      let finalPick = oddsPick===poissonPick? oddsPick : goalsPick;

      const resultsHTML = `
        <div class="card"><h3 class="font-bold">Odds Modell</h3><p>${oddsPick}</p></div>
        <div class="card"><h3 class="font-bold">Poisson Modell</h3><p>${poissonPick}</p></div>
        <div class="card"><h3 class="font-bold">Hibrid Modell</h3><p>${goalsPick}</p></div>
        <div class="card col-span-2"><h3 class="font-bold">üîÆ Ensemble</h3><p>${finalPick}</p></div>`;

      document.getElementById('results').innerHTML = resultsHTML;

      // Log ment√©s
      const log = {match:`${home} vs ${away}`, odds:{h,d,a}, pick:finalPick, date:new Date().toLocaleString()};
      let logs = JSON.parse(localStorage.getItem('logs')||'[]');
      logs.unshift(log);
      localStorage.setItem('logs',JSON.stringify(logs));
      renderLogs();
    }

    // Log megjelen√≠t√©s
    function renderLogs(){
      let logs = JSON.parse(localStorage.getItem('logs')||'[]');
      const cont = document.getElementById('logsContainer');
      cont.innerHTML = logs.map(l=>`<div class="p-3 rounded-xl bg-gray-200 dark:bg-gray-800">${l.date} ‚Üí <b>${l.match}</b> ‚Üí ${l.pick}</div>`).join('');
    }
    renderLogs();

    // Card st√≠lus
    function applyCardStyles(){
      document.querySelectorAll('.card').forEach(el=>{
        el.classList.add('p-4','rounded-xl','bg-white','dark:bg-gray-800','shadow');
      });
    }
    const observer = new MutationObserver(applyCardStyles);
    observer.observe(document.getElementById('results'), {childList:true});
  </script>
</body>
</html>
